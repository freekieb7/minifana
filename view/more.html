<!DOCTYPE HTML>
<html lang="en">
<head>
    <title>Minifana</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/htmx.org@1.9.10" integrity="sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC" crossorigin="anonymous"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['Time', {{ .Name }}],
                {{ range .Values }}
                    [new Date({{ .TimeUnixNano }} / 1000000),  {{ .AsInt }}],
                {{ end }}
            ]);

            var options = {
                title: 'Company Performance',
                hAxis: {title: 'Year',  titleTextStyle: {color: '#333'}},
                vAxis: {minValue: 0}
            };

            var chart = new google.visualization.AreaChart(document.getElementById('chart_div'));
            chart.draw(data, options);
        }
    </script>

</head>
<body class="h-screen">
<div>
    <label>Make</label>
    <select hx-get="/metrics/names" hx-trigger="load" hx-swap="innerHTML">
    </select>
</div>

<div id="chart_div"></div>

</body>
</html>

